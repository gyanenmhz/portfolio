{"id":"91f6bbe2-ed41-4fd6-bac7-71d5b5864ecb","revision":0,"last_node_id":222,"last_link_id":387,"nodes":[{"id":38,"type":"CLIPLoader","pos":[-90,70],"size":[380,106],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"clip_name","name":"clip_name","type":"COMBO","widget":{"name":"clip_name"},"link":null},{"localized_name":"type","name":"type","type":"COMBO","widget":{"name":"type"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"CLIP","name":"CLIP","type":"CLIP","slot_index":0,"links":[74,75]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"CLIPLoader","models":[{"name":"qwen_2.5_vl_7b_fp8_scaled.safetensors","url":"https://huggingface.co/Comfy-Org/Qwen-Image_ComfyUI/resolve/main/split_files/text_encoders/qwen_2.5_vl_7b_fp8_scaled.safetensors","directory":"text_encoders"}],"ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":["qwen_2.5_vl_7b_fp8_scaled.safetensors","qwen_image","default"]},{"id":37,"type":"UNETLoader","pos":[-90,-60],"size":[380,82],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"unet_name","name":"unet_name","type":"COMBO","widget":{"name":"unet_name"},"link":null},{"localized_name":"weight_dtype","name":"weight_dtype","type":"COMBO","widget":{"name":"weight_dtype"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[145]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"UNETLoader","models":[{"name":"qwen_image_fp8_e4m3fn.safetensors","url":"https://huggingface.co/Comfy-Org/Qwen-Image_ComfyUI/resolve/main/split_files/diffusion_models/qwen_image_fp8_e4m3fn.safetensors","directory":"diffusion_models"}],"ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":["qwen_image_fp8_e4m3fn.safetensors","default"]},{"id":7,"type":"CLIPTextEncode","pos":[330,320],"size":[460,140],"flags":{},"order":18,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":75},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[191]}],"title":"CLIP Text Encode (Negative Prompt)","properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"CLIPTextEncode","ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":[" "],"color":"#223","bgcolor":"#335"},{"id":84,"type":"ControlNetLoader","pos":[-90,340],"size":[380,58],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"control_net_name","name":"control_net_name","type":"COMBO","widget":{"name":"control_net_name"},"link":null}],"outputs":[{"localized_name":"CONTROL_NET","name":"CONTROL_NET","type":"CONTROL_NET","links":[192]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"ControlNetLoader","models":[{"name":"Qwen-Image-InstantX-ControlNet-Inpainting.safetensors","url":"https://huggingface.co/Comfy-Org/Qwen-Image-InstantX-ControlNets/resolve/main/split_files/controlnet/Qwen-Image-InstantX-ControlNet-Inpainting.safetensors","directory":"controlnet"}],"ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":["Qwen-Image-InstantX-ControlNet-Inpainting.safetensors"]},{"id":39,"type":"VAELoader","pos":[-90,230],"size":[380,58],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"vae_name","name":"vae_name","type":"COMBO","widget":{"name":"vae_name"},"link":null}],"outputs":[{"localized_name":"VAE","name":"VAE","type":"VAE","slot_index":0,"links":[76,144,193]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"VAELoader","models":[{"name":"qwen_image_vae.safetensors","url":"https://huggingface.co/Comfy-Org/Qwen-Image_ComfyUI/resolve/main/split_files/vae/qwen_image_vae.safetensors","directory":"vae"}],"ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":["qwen_image_vae.safetensors"]},{"id":66,"type":"ModelSamplingAuraFlow","pos":[860,-100],"size":[310,58],"flags":{},"order":26,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":149},{"localized_name":"shift","name":"shift","type":"FLOAT","widget":{"name":"shift"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[156]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"ModelSamplingAuraFlow","ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":[3.1000000000000005]},{"id":108,"type":"ControlNetInpaintingAliMamaApply","pos":[430,560],"size":[317.0093688964844,206],"flags":{},"order":31,"mode":0,"inputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":190},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":191},{"localized_name":"control_net","name":"control_net","type":"CONTROL_NET","link":192},{"localized_name":"vae","name":"vae","type":"VAE","link":193},{"localized_name":"image","name":"image","type":"IMAGE","link":294},{"localized_name":"mask","name":"mask","type":"MASK","link":220},{"localized_name":"strength","name":"strength","type":"FLOAT","widget":{"name":"strength"},"link":null},{"localized_name":"start_percent","name":"start_percent","type":"FLOAT","widget":{"name":"start_percent"},"link":null},{"localized_name":"end_percent","name":"end_percent","type":"FLOAT","widget":{"name":"end_percent"},"link":null}],"outputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","links":[188]},{"localized_name":"negative","name":"negative","type":"CONDITIONING","links":[189]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ControlNetInpaintingAliMamaApply","ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":[1,0,1]},{"id":115,"type":"MarkdownNote","pos":[-470,560],"size":[307.56927490234375,169.79689025878906],"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[],"title":"About how to create mask","properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":["Right-click on the Load Image node, then click \"Open in MaskEditor\" to open it and paint the area you want to inpaint.\n\nYou can learn more about MaskEditor in the [MaskEditor Document](https://docs.comfy.org/interface/maskeditor)"],"color":"#432","bgcolor":"#653"},{"id":86,"type":"Note","pos":[860,500],"size":[307.4002380371094,127.38092803955078],"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":["Set cfg to 1.0 for a speed boost at the cost of consistency. Samplers like res_multistep work pretty well at cfg 1.0\n\nThe official number of steps is 50 but I think that's too much. Even just 10 steps seems to work."],"color":"#432","bgcolor":"#653"},{"id":79,"type":"MarkdownNote","pos":[860,680],"size":[310,140],"flags":{},"order":6,"mode":0,"inputs":[],"outputs":[],"title":"KSampler settings","properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":["You can test and find the best setting by yourself. The following table is for reference.\n\n| model            | steps | cfg |\n|---------------------|---------------|---------------|\n| fp8_e4m3fn             | 20                | 2.5               |\n| fp8_e4m3fn + 4 Steps lightning LoRA    | 4               | 1.0               |\n"],"color":"#432","bgcolor":"#653"},{"id":76,"type":"VAEEncode","pos":[430,830],"size":[140,46],"flags":{"collapsed":true},"order":29,"mode":0,"inputs":[{"localized_name":"pixels","name":"pixels","type":"IMAGE","link":293},{"localized_name":"vae","name":"vae","type":"VAE","link":144}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[208]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"VAEEncode","ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":[]},{"id":122,"type":"SetLatentNoiseMask","pos":[430,890],"size":[230,50],"flags":{"collapsed":true},"order":35,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":208},{"localized_name":"mask","name":"mask","type":"MASK","link":219}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[210]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"SetLatentNoiseMask","ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":[]},{"id":124,"type":"MaskPreview","pos":[440,1100],"size":[320,340],"flags":{},"order":30,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":215}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"MaskPreview","ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":[]},{"id":173,"type":"MarkdownNote","pos":[880,1210],"size":[260,130],"flags":{},"order":7,"mode":0,"inputs":[],"outputs":[],"title":"About ImageCompositeMasked","properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":["Some users might want to keep the unmasked area unchanged, though with ImageCompositeMasked, we can paste the original pixels back."],"color":"#432","bgcolor":"#653"},{"id":174,"type":"CLIPLoader","pos":[2430,60],"size":[380,106],"flags":{},"order":8,"mode":4,"inputs":[{"localized_name":"clip_name","name":"clip_name","type":"COMBO","widget":{"name":"clip_name"},"link":null},{"localized_name":"type","name":"type","type":"COMBO","widget":{"name":"type"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"CLIP","name":"CLIP","type":"CLIP","slot_index":0,"links":[296,305]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"CLIPLoader","models":[{"name":"qwen_2.5_vl_7b_fp8_scaled.safetensors","url":"https://huggingface.co/Comfy-Org/Qwen-Image_ComfyUI/resolve/main/split_files/text_encoders/qwen_2.5_vl_7b_fp8_scaled.safetensors","directory":"text_encoders"}],"ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":["qwen_2.5_vl_7b_fp8_scaled.safetensors","qwen_image","default"]},{"id":175,"type":"UNETLoader","pos":[2430,-70],"size":[380,82],"flags":{},"order":9,"mode":4,"inputs":[{"localized_name":"unet_name","name":"unet_name","type":"COMBO","widget":{"name":"unet_name"},"link":null},{"localized_name":"weight_dtype","name":"weight_dtype","type":"COMBO","widget":{"name":"weight_dtype"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[306]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"UNETLoader","models":[{"name":"qwen_image_fp8_e4m3fn.safetensors","url":"https://huggingface.co/Comfy-Org/Qwen-Image_ComfyUI/resolve/main/split_files/diffusion_models/qwen_image_fp8_e4m3fn.safetensors","directory":"diffusion_models"}],"ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":["qwen_image_fp8_e4m3fn.safetensors","default"]},{"id":177,"type":"ControlNetLoader","pos":[2430,330],"size":[380,58],"flags":{},"order":10,"mode":4,"inputs":[{"localized_name":"control_net_name","name":"control_net_name","type":"COMBO","widget":{"name":"control_net_name"},"link":null}],"outputs":[{"localized_name":"CONTROL_NET","name":"CONTROL_NET","type":"CONTROL_NET","links":[301]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"ControlNetLoader","models":[{"name":"Qwen-Image-InstantX-ControlNet-Inpainting.safetensors","url":"https://huggingface.co/Comfy-Org/Qwen-Image-InstantX-ControlNets/resolve/main/split_files/controlnet/Qwen-Image-InstantX-ControlNet-Inpainting.safetensors","directory":"controlnet"}],"ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":["Qwen-Image-InstantX-ControlNet-Inpainting.safetensors"]},{"id":180,"type":"ModelSamplingAuraFlow","pos":[3400,-110],"size":[310,58],"flags":{},"order":27,"mode":4,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":298},{"localized_name":"shift","name":"shift","type":"FLOAT","widget":{"name":"shift"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[308]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"ModelSamplingAuraFlow","ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":[3.1000000000000005]},{"id":191,"type":"VAEDecode","pos":[3440,500],"size":[250,46],"flags":{},"order":41,"mode":4,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":312},{"localized_name":"vae","name":"vae","type":"VAE","link":313}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[314,323]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"VAEDecode","ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":[]},{"id":185,"type":"LoraLoaderModelOnly","pos":[2870,-80],"size":[430,82],"flags":{},"order":22,"mode":4,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":306},{"localized_name":"lora_name","name":"lora_name","type":"COMBO","widget":{"name":"lora_name"},"link":null},{"localized_name":"strength_model","name":"strength_model","type":"FLOAT","widget":{"name":"strength_model"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[298]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"LoraLoaderModelOnly","models":[{"name":"Qwen-Image-Lightning-4steps-V1.0.safetensors","url":"https://huggingface.co/lightx2v/Qwen-Image-Lightning/resolve/main/Qwen-Image-Lightning-4steps-V1.0.safetensors","directory":"loras"}],"ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":["Qwen-Image-Lightning-4steps-V1.0.safetensors",1]},{"id":80,"type":"LoraLoaderModelOnly","pos":[350,-70],"size":[430,82],"flags":{},"order":19,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":145},{"localized_name":"lora_name","name":"lora_name","type":"COMBO","widget":{"name":"lora_name"},"link":null},{"localized_name":"strength_model","name":"strength_model","type":"FLOAT","widget":{"name":"strength_model"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","links":[149]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"LoraLoaderModelOnly","models":[{"name":"Qwen-Image-Lightning-4steps-V1.0.safetensors","url":"https://huggingface.co/lightx2v/Qwen-Image-Lightning/resolve/main/Qwen-Image-Lightning-4steps-V1.0.safetensors","directory":"loras"}],"ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":["Qwen-Image-Lightning-4steps-V1.0.safetensors",1]},{"id":8,"type":"VAEDecode","pos":[900,880],"size":[250,46],"flags":{},"order":40,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":128},{"localized_name":"vae","name":"vae","type":"VAE","link":76}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[110,224]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"VAEDecode","ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":[]},{"id":126,"type":"ImageCompositeMasked","pos":[890,1000],"size":[250,150],"flags":{},"order":43,"mode":0,"inputs":[{"localized_name":"destination","name":"destination","type":"IMAGE","link":295},{"localized_name":"source","name":"source","type":"IMAGE","link":224},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":225},{"localized_name":"x","name":"x","type":"INT","widget":{"name":"x"},"link":null},{"localized_name":"y","name":"y","type":"INT","widget":{"name":"y"},"link":null},{"localized_name":"resize_source","name":"resize_source","type":"BOOLEAN","widget":{"name":"resize_source"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[274]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ImageCompositeMasked","ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":[0,0,false]},{"id":207,"type":"MaskPreview","pos":[3390,980],"size":[340,430],"flags":{},"order":37,"mode":4,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":376}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"MaskPreview","ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":[]},{"id":203,"type":"PreviewImage","pos":[2950,980],"size":[310,430],"flags":{},"order":33,"mode":4,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":370}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"PreviewImage","ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":[]},{"id":200,"type":"ImageCompositeMasked","pos":[3430,620],"size":[250,150],"flags":{},"order":45,"mode":4,"inputs":[{"localized_name":"destination","name":"destination","type":"IMAGE","link":369},{"localized_name":"source","name":"source","type":"IMAGE","link":323},{"localized_name":"mask","name":"mask","shape":7,"type":"MASK","link":374},{"localized_name":"x","name":"x","type":"INT","widget":{"name":"x"},"link":null},{"localized_name":"y","name":"y","type":"INT","widget":{"name":"y"},"link":null},{"localized_name":"resize_source","name":"resize_source","type":"BOOLEAN","widget":{"name":"resize_source"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[307]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ImageCompositeMasked","ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":[0,0,false]},{"id":190,"type":"KSampler","pos":[3400,10],"size":[310,474],"flags":{},"order":39,"mode":4,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":308},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":386},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":387},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":358},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[312]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"KSampler","ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":[453225449060403,"randomize",4,1,"euler","simple",1]},{"id":117,"type":"MarkdownNote","pos":[-470,1020],"size":[310,180],"flags":{},"order":11,"mode":0,"inputs":[],"outputs":[],"title":"About ImageScaleToMaxDimension","properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":["The input image shouldn't be too large (such as more than 3000). A too large input might cause bad results. You can enable the *ImageScaleToMaxDimension* node to download and scale the input image."],"color":"#432","bgcolor":"#653"},{"id":3,"type":"KSampler","pos":[860,20],"size":[310,430],"flags":{},"order":38,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":156},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":188},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":189},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":210},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[128]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"KSampler","ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":[245187719599216,"randomize",4,1,"euler","simple",1]},{"id":163,"type":"SaveImage","pos":[1270,840],"size":[940,970],"flags":{},"order":46,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":274},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"SaveImage","ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":["ComfyUI"]},{"id":78,"type":"MarkdownNote","pos":[-680,-150],"size":[541.36865234375,579.70263671875],"flags":{},"order":12,"mode":0,"inputs":[],"outputs":[],"title":"Model links","properties":{"ue_properties":{"version":"7.4.1","widget_ue_connectable":{},"input_ue_unconnectable":{}}},"widgets_values":["[Tutorial](https://docs.comfy.org/tutorials/image/qwen/qwen-image)\n\n\n## Model links\n\nYou can find all the models on [Huggingface](https://huggingface.co/Comfy-Org/Qwen-Image_ComfyUI/tree/main) or [Modelscope](https://modelscope.cn/models/Comfy-Org/Qwen-Image_ComfyUI/files)\n\n**Diffusion model**\n\n- [qwen_image_fp8_e4m3fn.safetensors](https://huggingface.co/Comfy-Org/Qwen-Image_ComfyUI/resolve/main/split_files/diffusion_models/qwen_image_fp8_e4m3fn.safetensors)\n\n**ControlNet**\n\n- [Qwen-Image-InstantX-ControlNet-Inpainting.safetensors](https://huggingface.co/Comfy-Org/Qwen-Image-InstantX-ControlNets/resolve/main/split_files/controlnet/Qwen-Image-InstantX-ControlNet-Inpainting.safetensors)\n\n\n**LoRA**\n\n- [Qwen-Image-Lightning-4steps-V1.0.safetensors](https://huggingface.co/lightx2v/Qwen-Image-Lightning/resolve/main/Qwen-Image-Lightning-4steps-V1.0.safetensors)\n\n**Text encoder**\n\n- [qwen_2.5_vl_7b_fp8_scaled.safetensors](https://huggingface.co/Comfy-Org/Qwen-Image_ComfyUI/resolve/main/split_files/text_encoders/qwen_2.5_vl_7b_fp8_scaled.safetensors)\n\n**VAE**\n\n- [qwen_image_vae.safetensors](https://huggingface.co/Comfy-Org/Qwen-Image_ComfyUI/resolve/main/split_files/vae/qwen_image_vae.safetensors)\n\n\nModel Storage Location\n\n```\nðŸ“‚ ComfyUI/\nâ”œâ”€â”€ ðŸ“‚ models/\nâ”‚   â”œâ”€â”€ ðŸ“‚ diffusion_models/\nâ”‚   â”‚   â”œâ”€â”€ qwen_image_fp8_e4m3fn.safetensors\nâ”‚   â”‚   â””â”€â”€ qwen_image_distill_full_fp8_e4m3fn.safetensors\nâ”‚   â”œâ”€â”€ ðŸ“‚ loras/\nâ”‚   â”‚   â””â”€â”€ Qwen-Image-Lightning-8steps-V1.0.safetensors\nâ”‚   â”œâ”€â”€ ðŸ“‚ controlnet/ \nâ”‚   â”‚   â””â”€â”€ Qwen-Image-InstantX-ControlNet-Inpainting.safetensors\nâ”‚   â”œâ”€â”€ ðŸ“‚ vae/\nâ”‚   â”‚   â””â”€â”€ qwen_image_vae.safetensors\nâ”‚   â””â”€â”€ ðŸ“‚ text_encoders/\nâ”‚       â””â”€â”€ qwen_2.5_vl_7b_fp8_scaled.safetensors\n```\n"],"color":"#432","bgcolor":"#653"},{"id":202,"type":"ImagePadForOutpaint","pos":[2490,1030],"size":[270,174],"flags":{},"order":23,"mode":4,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":351},{"localized_name":"left","name":"left","type":"INT","widget":{"name":"left"},"link":null},{"localized_name":"top","name":"top","type":"INT","widget":{"name":"top"},"link":null},{"localized_name":"right","name":"right","type":"INT","widget":{"name":"right"},"link":null},{"localized_name":"bottom","name":"bottom","type":"INT","widget":{"name":"bottom"},"link":null},{"localized_name":"feathering","name":"feathering","type":"INT","widget":{"name":"feathering"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[366]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":[365]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ImagePadForOutpaint","ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":[200,200,0,200,0]},{"id":121,"type":"cade3e30-0eb2-4fd2-bf6e-8518f3a96e0c","pos":[430,950],"size":[330,100],"flags":{},"order":25,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":205},{"name":"expand","type":"INT","widget":{"name":"expand"},"link":null},{"name":"blur_radius","type":"INT","widget":{"name":"blur_radius"},"link":null}],"outputs":[{"localized_name":"MASK","name":"MASK","type":"MASK","links":[215,219,220,225]}],"properties":{"proxyWidgets":[["-1","expand"],["-1","blur_radius"]],"cnr_id":"comfy-core","ver":"0.3.59","ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":[0,31]},{"id":220,"type":"f93c215e-c393-460e-9534-ed2c3d8a652e","pos":[2480,1450],"size":[330,100],"flags":{},"order":32,"mode":4,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":377},{"name":"expand","type":"INT","widget":{"name":"expand"},"link":null},{"name":"blur_radius","type":"INT","widget":{"name":"blur_radius"},"link":null}],"outputs":[{"localized_name":"MASK","name":"MASK","type":"MASK","links":[374,375,376]}],"properties":{"proxyWidgets":[["-1","expand"],["-1","blur_radius"]],"cnr_id":"comfy-core","ver":"0.3.59","ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":[20,31]},{"id":195,"type":"VAEEncode","pos":[2950,820],"size":[140,46],"flags":{"collapsed":false},"order":34,"mode":4,"inputs":[{"localized_name":"pixels","name":"pixels","type":"IMAGE","link":371},{"localized_name":"vae","name":"vae","type":"VAE","link":317}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","links":[358]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"VAEEncode","ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":[]},{"id":181,"type":"ControlNetInpaintingAliMamaApply","pos":[2940,560],"size":[317.0093688964844,206],"flags":{},"order":36,"mode":4,"inputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":299},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":300},{"localized_name":"control_net","name":"control_net","type":"CONTROL_NET","link":301},{"localized_name":"vae","name":"vae","type":"VAE","link":384},{"localized_name":"image","name":"image","type":"IMAGE","link":385},{"localized_name":"mask","name":"mask","type":"MASK","link":375},{"localized_name":"strength","name":"strength","type":"FLOAT","widget":{"name":"strength"},"link":null},{"localized_name":"start_percent","name":"start_percent","type":"FLOAT","widget":{"name":"start_percent"},"link":null},{"localized_name":"end_percent","name":"end_percent","type":"FLOAT","widget":{"name":"end_percent"},"link":null}],"outputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","links":[386]},{"localized_name":"negative","name":"negative","type":"CONDITIONING","links":[387]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ControlNetInpaintingAliMamaApply","ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":[1,0,1]},{"id":178,"type":"VAELoader","pos":[2430,220],"size":[380,58],"flags":{},"order":13,"mode":4,"inputs":[{"localized_name":"vae_name","name":"vae_name","type":"COMBO","widget":{"name":"vae_name"},"link":null}],"outputs":[{"localized_name":"VAE","name":"VAE","type":"VAE","slot_index":0,"links":[313,317,384]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"VAELoader","models":[{"name":"qwen_image_vae.safetensors","url":"https://huggingface.co/Comfy-Org/Qwen-Image_ComfyUI/resolve/main/split_files/vae/qwen_image_vae.safetensors","directory":"vae"}],"ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":["qwen_image_vae.safetensors"]},{"id":219,"type":"2a4b2cc0-db37-4302-a067-da392f38f06b","pos":[2480,1260],"size":[280,80],"flags":{},"order":28,"mode":4,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":365},{"localized_name":"image","name":"image","type":"IMAGE","link":366},{"name":"value","type":"INT","widget":{"name":"value"},"link":null}],"outputs":[{"localized_name":"MASK","name":"MASK","type":"MASK","links":[377]},{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[369,370,371,385]}],"properties":{"proxyWidgets":[["-1","value"]],"cnr_id":"comfy-core","ver":"0.3.65","ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":[1536]},{"id":189,"type":"SaveImage","pos":[3770,990],"size":[930,800],"flags":{},"order":47,"mode":4,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":307},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"SaveImage","ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":["ComfyUI"]},{"id":193,"type":"LoadImage","pos":[2470,570],"size":[310,326],"flags":{},"order":14,"mode":4,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[351]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":[]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"LoadImage","ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":["image_qwen_image_instantx_inpainting_controlnet_input_image.png","image"]},{"id":192,"type":"SaveImage","pos":[3770,70],"size":[940,850],"flags":{},"order":44,"mode":4,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":314},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"SaveImage","ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":["ComfyUI"]},{"id":182,"type":"CLIPTextEncode","pos":[2850,100],"size":[460,164.31304931640625],"flags":{},"order":21,"mode":4,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":305},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[299]}],"title":"CLIP Text Encode (Positive Prompt)","properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"CLIPTextEncode","ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":["The King, on a throne, surrounded by Knights, HD, Realistic, Octane Render, Unreal engine"],"color":"#232","bgcolor":"#353"},{"id":176,"type":"CLIPTextEncode","pos":[2850,310],"size":[460,140],"flags":{},"order":20,"mode":4,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":296},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[300]}],"title":"CLIP Text Encode (Negative Prompt)","properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"CLIPTextEncode","ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":[""],"color":"#223","bgcolor":"#335"},{"id":68,"type":"Note","pos":[850,-300],"size":[310,90],"flags":{},"order":15,"mode":0,"inputs":[],"outputs":[],"properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":["Increase the shift if you get too many blury/dark/bad images. Decrease if you want to try increasing detail."],"color":"#432","bgcolor":"#653"},{"id":6,"type":"CLIPTextEncode","pos":[330,110],"size":[460,164.31304931640625],"flags":{},"order":17,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":74},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[190]}],"title":"CLIP Text Encode (Positive Prompt)","properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"CLIPTextEncode","ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":["add details"],"color":"#232","bgcolor":"#353"},{"id":60,"type":"SaveImage","pos":[1280,-100],"size":[930,880],"flags":{},"order":42,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":110},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"SaveImage","ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":["ComfyUI"]},{"id":172,"type":"ImageScaleToMaxDimension","pos":[-20,1060],"size":[281.2027282714844,82],"flags":{},"order":24,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":292},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"largest_size","name":"largest_size","type":"INT","widget":{"name":"largest_size"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[293,294,295]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ImageScaleToMaxDimension","ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":["area",1920]},{"id":71,"type":"LoadImage","pos":[-50,580],"size":[310,326],"flags":{},"order":16,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[292]},{"localized_name":"MASK","name":"MASK","type":"MASK","links":[205]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.51","Node name for S&R":"LoadImage","ue_properties":{"widget_ue_connectable":{},"version":"7.4.1","input_ue_unconnectable":{}}},"widgets_values":["clipspace/clipspace-painted-masked-9708794.png [input]","image"]}],"links":[[74,38,0,6,0,"CLIP"],[75,38,0,7,0,"CLIP"],[76,39,0,8,1,"VAE"],[110,8,0,60,0,"IMAGE"],[128,3,0,8,0,"LATENT"],[144,39,0,76,1,"VAE"],[145,37,0,80,0,"MODEL"],[149,80,0,66,0,"MODEL"],[156,66,0,3,0,"MODEL"],[188,108,0,3,1,"CONDITIONING"],[189,108,1,3,2,"CONDITIONING"],[190,6,0,108,0,"CONDITIONING"],[191,7,0,108,1,"CONDITIONING"],[192,84,0,108,2,"CONTROL_NET"],[193,39,0,108,3,"VAE"],[205,71,1,121,0,"MASK"],[208,76,0,122,0,"LATENT"],[210,122,0,3,3,"LATENT"],[215,121,0,124,0,"MASK"],[219,121,0,122,1,"MASK"],[220,121,0,108,5,"MASK"],[224,8,0,126,1,"IMAGE"],[225,121,0,126,2,"MASK"],[274,126,0,163,0,"IMAGE"],[292,71,0,172,0,"IMAGE"],[293,172,0,76,0,"IMAGE"],[294,172,0,108,4,"IMAGE"],[295,172,0,126,0,"IMAGE"],[296,174,0,176,0,"CLIP"],[298,185,0,180,0,"MODEL"],[299,182,0,181,0,"CONDITIONING"],[300,176,0,181,1,"CONDITIONING"],[301,177,0,181,2,"CONTROL_NET"],[305,174,0,182,0,"CLIP"],[306,175,0,185,0,"MODEL"],[307,200,0,189,0,"IMAGE"],[308,180,0,190,0,"MODEL"],[312,190,0,191,0,"LATENT"],[313,178,0,191,1,"VAE"],[314,191,0,192,0,"IMAGE"],[317,178,0,195,1,"VAE"],[323,191,0,200,1,"IMAGE"],[351,193,0,202,0,"IMAGE"],[358,195,0,190,3,"LATENT"],[365,202,1,219,0,"MASK"],[366,202,0,219,1,"IMAGE"],[369,219,1,200,0,"IMAGE"],[370,219,1,203,0,"IMAGE"],[371,219,1,195,0,"IMAGE"],[374,220,0,200,2,"MASK"],[375,220,0,181,5,"MASK"],[376,220,0,207,0,"MASK"],[377,219,0,220,0,"MASK"],[384,178,0,181,3,"VAE"],[385,219,1,181,4,"IMAGE"],[386,181,0,190,1,"CONDITIONING"],[387,181,1,190,2,"CONDITIONING"]],"groups":[{"id":1,"title":"Step 1 - Upload models","bounding":[-100,-140,400,610],"color":"#3f789e","font_size":24,"flags":{}},{"id":2,"title":"Step 2 - Upload image and edit mask","bounding":[-100,490,420,440],"color":"#3f789e","font_size":24,"flags":{}},{"id":4,"title":"Step 3 - Prompt","bounding":[320,40,490,430],"color":"#3f789e","font_size":24,"flags":{}},{"id":5,"title":"4 steps lightning LoRA","bounding":[320,-140,490,160],"color":"#3f789e","font_size":24,"flags":{}},{"id":6,"title":"Ctrl-B to enable it","bounding":[-100,950,420,290],"color":"#3f789e","font_size":24,"flags":{}},{"id":12,"title":"For outpainting  Ctrl-B to enable","bounding":[2410,-190,2310,1993.5999755859375],"color":"#3f789e","font_size":24,"flags":{}},{"id":7,"title":"Step 1 - Upload models","bounding":[2420,-150,400,610],"color":"#3f789e","font_size":24,"flags":{}},{"id":8,"title":"Step 2 - Upload image and edit mask","bounding":[2420,480,420,440],"color":"#3f789e","font_size":24,"flags":{}},{"id":9,"title":"Step 3 - Prompt","bounding":[2840,30,490,430],"color":"#3f789e","font_size":24,"flags":{}},{"id":10,"title":"4 steps lightning LoRA","bounding":[2840,-150,490,160],"color":"#3f789e","font_size":24,"flags":{}},{"id":11,"title":"Ctrl-B to enable it","bounding":[2420,940,430,460],"color":"#3f789e","font_size":24,"flags":{}},{"id":14,"title":"Inpainting","bounding":[-110,-180,2330,2003.5999755859375],"color":"#3f789e","font_size":24,"flags":{}}],"definitions":{"subgraphs":[{"id":"cade3e30-0eb2-4fd2-bf6e-8518f3a96e0c","version":1,"state":{"lastGroupId":11,"lastNodeId":255,"lastLinkId":380,"lastRerouteId":0},"revision":0,"config":{},"name":"Grow and Blur Mask","inputNode":{"id":-10,"bounding":[290,3536,120,100]},"outputNode":{"id":-20,"bounding":[1130,3536,120,60]},"inputs":[{"id":"3ac60d5e-8f9d-4663-9b24-b3a15a3e9e20","name":"mask","type":"MASK","linkIds":[279],"localized_name":"mask","pos":[390,3556]},{"id":"d1ab0cf5-7062-41ac-9f4b-8c660fc4a714","name":"expand","type":"INT","linkIds":[379],"pos":[390,3576]},{"id":"1a787af5-da9f-44c5-9f5a-3f71609ca0ef","name":"blur_radius","type":"INT","linkIds":[380],"pos":[390,3596]}],"outputs":[{"id":"1f97f683-13d3-4871-876d-678fca850d89","name":"MASK","type":"MASK","linkIds":[378],"localized_name":"MASK","pos":[1150,3556]}],"widgets":[],"nodes":[{"id":253,"type":"ImageToMask","pos":[800,3630],"size":[270,58],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":377},{"localized_name":"channel","name":"channel","type":"COMBO","widget":{"name":"channel"},"link":null}],"outputs":[{"localized_name":"MASK","name":"MASK","type":"MASK","links":[378]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ImageToMask","ue_properties":{"widget_ue_connectable":{}}},"widgets_values":["red"]},{"id":251,"type":"MaskToImage","pos":[780,3470],"size":[260,70],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":372}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[373]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"MaskToImage","ue_properties":{"widget_ue_connectable":{}}},"widgets_values":[]},{"id":199,"type":"GrowMask","pos":[470,3460],"size":[270,82],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":279},{"localized_name":"expand","name":"expand","type":"INT","widget":{"name":"expand"},"link":379},{"localized_name":"tapered_corners","name":"tapered_corners","type":"BOOLEAN","widget":{"name":"tapered_corners"},"link":null}],"outputs":[{"localized_name":"MASK","name":"MASK","type":"MASK","links":[372]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"GrowMask","ue_properties":{"widget_ue_connectable":{}}},"widgets_values":[0,true]},{"id":252,"type":"ImageBlur","pos":[480,3620],"size":[270,82],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":373},{"localized_name":"blur_radius","name":"blur_radius","type":"INT","widget":{"name":"blur_radius"},"link":380},{"localized_name":"sigma","name":"sigma","type":"FLOAT","widget":{"name":"sigma"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[377]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ImageBlur","ue_properties":{"widget_ue_connectable":{}}},"widgets_values":[31,1]}],"groups":[],"links":[{"id":373,"origin_id":251,"origin_slot":0,"target_id":252,"target_slot":0,"type":"IMAGE"},{"id":377,"origin_id":252,"origin_slot":0,"target_id":253,"target_slot":0,"type":"IMAGE"},{"id":372,"origin_id":199,"origin_slot":0,"target_id":251,"target_slot":0,"type":"MASK"},{"id":279,"origin_id":-10,"origin_slot":0,"target_id":199,"target_slot":0,"type":"MASK"},{"id":378,"origin_id":253,"origin_slot":0,"target_id":-20,"target_slot":0,"type":"MASK"},{"id":379,"origin_id":-10,"origin_slot":1,"target_id":199,"target_slot":1,"type":"INT"},{"id":380,"origin_id":-10,"origin_slot":2,"target_id":252,"target_slot":1,"type":"INT"}],"extra":{"ue_links":[],"links_added_by_ue":[]}},{"id":"2a4b2cc0-db37-4302-a067-da392f38f06b","version":1,"state":{"lastGroupId":14,"lastNodeId":218,"lastLinkId":365,"lastRerouteId":0},"revision":0,"config":{},"name":"Scale image and mask(Subgraph)","inputNode":{"id":-10,"bounding":[2110,1406,120,100]},"outputNode":{"id":-20,"bounding":[3320,1406,120,80]},"inputs":[{"id":"53ec80db-b075-446c-a79b-891d82ae3cf1","name":"mask","type":"MASK","linkIds":[360],"localized_name":"mask","pos":[2210,1426]},{"id":"37820e3d-f495-4b41-b0c6-58765a0c1766","name":"image","type":"IMAGE","linkIds":[350],"localized_name":"image","pos":[2210,1446]},{"id":"d388f5f1-7a36-4563-b104-9f7ec77f636d","name":"value","type":"INT","linkIds":[365],"pos":[2210,1466]}],"outputs":[{"id":"7ef75a31-2e69-4dce-8e13-76cd17b4c272","name":"MASK","type":"MASK","linkIds":[364],"localized_name":"MASK","pos":[3340,1426]},{"id":"36058145-b72c-4bd4-bb63-e2e22456d003","name":"IMAGE","type":"IMAGE","linkIds":[352,353,354],"localized_name":"IMAGE","pos":[3340,1446]}],"widgets":[],"nodes":[{"id":218,"type":"ImageToMask","pos":[2990,1540],"size":[270,58],"flags":{},"order":4,"mode":4,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":363},{"localized_name":"channel","name":"channel","type":"COMBO","widget":{"name":"channel"},"link":null}],"outputs":[{"localized_name":"MASK","name":"MASK","type":"MASK","links":[364]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.65","Node name for S&R":"ImageToMask","ue_properties":{"widget_ue_connectable":{}}},"widgets_values":["red"]},{"id":216,"type":"ImageScaleToMaxDimension","pos":[2610,1570],"size":[281.2027282714844,82],"flags":{},"order":2,"mode":4,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":361},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"largest_size","name":"largest_size","type":"INT","widget":{"name":"largest_size"},"link":362}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[363]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ImageScaleToMaxDimension","ue_properties":{"widget_ue_connectable":{}}},"widgets_values":["area",1536]},{"id":217,"type":"MaskToImage","pos":[2700,1420],"size":[184.62362670898438,26],"flags":{},"order":3,"mode":4,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":360}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[361]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.65","Node name for S&R":"MaskToImage","ue_properties":{"widget_ue_connectable":{}}},"widgets_values":[]},{"id":194,"type":"ImageScaleToMaxDimension","pos":[2590,1280],"size":[281.2027282714844,82],"flags":{},"order":0,"mode":4,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":350},{"localized_name":"upscale_method","name":"upscale_method","type":"COMBO","widget":{"name":"upscale_method"},"link":null},{"localized_name":"largest_size","name":"largest_size","type":"INT","widget":{"name":"largest_size"},"link":359}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[352,353,354]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ImageScaleToMaxDimension","ue_properties":{"widget_ue_connectable":{}}},"widgets_values":["area",1536]},{"id":215,"type":"PrimitiveInt","pos":[2260,1560],"size":[270,82],"flags":{},"order":1,"mode":4,"inputs":[{"localized_name":"value","name":"value","type":"INT","widget":{"name":"value"},"link":365}],"outputs":[{"localized_name":"INT","name":"INT","type":"INT","links":[359,362]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.65","Node name for S&R":"PrimitiveInt","ue_properties":{"widget_ue_connectable":{}}},"widgets_values":[1536,"fixed"]}],"groups":[],"links":[{"id":363,"origin_id":216,"origin_slot":0,"target_id":218,"target_slot":0,"type":"IMAGE"},{"id":361,"origin_id":217,"origin_slot":0,"target_id":216,"target_slot":0,"type":"IMAGE"},{"id":362,"origin_id":215,"origin_slot":0,"target_id":216,"target_slot":2,"type":"INT"},{"id":359,"origin_id":215,"origin_slot":0,"target_id":194,"target_slot":2,"type":"INT"},{"id":360,"origin_id":-10,"origin_slot":0,"target_id":217,"target_slot":0,"type":"MASK"},{"id":350,"origin_id":-10,"origin_slot":1,"target_id":194,"target_slot":0,"type":"IMAGE"},{"id":364,"origin_id":218,"origin_slot":0,"target_id":-20,"target_slot":0,"type":"MASK"},{"id":352,"origin_id":194,"origin_slot":0,"target_id":-20,"target_slot":1,"type":"IMAGE"},{"id":353,"origin_id":194,"origin_slot":0,"target_id":-20,"target_slot":1,"type":"IMAGE"},{"id":354,"origin_id":194,"origin_slot":0,"target_id":-20,"target_slot":1,"type":"IMAGE"},{"id":365,"origin_id":-10,"origin_slot":2,"target_id":215,"target_slot":0,"type":"INT"}],"extra":{"ue_links":[],"links_added_by_ue":[]}},{"id":"f93c215e-c393-460e-9534-ed2c3d8a652e","version":1,"state":{"lastGroupId":11,"lastNodeId":255,"lastLinkId":380,"lastRerouteId":0},"revision":0,"config":{},"name":"Grow and Blur Mask","inputNode":{"id":-10,"bounding":[290,3536,120,100]},"outputNode":{"id":-20,"bounding":[1130,3536,120,60]},"inputs":[{"id":"3ac60d5e-8f9d-4663-9b24-b3a15a3e9e20","name":"mask","type":"MASK","linkIds":[279],"localized_name":"mask","pos":[390,3556]},{"id":"d1ab0cf5-7062-41ac-9f4b-8c660fc4a714","name":"expand","type":"INT","linkIds":[379],"pos":[390,3576]},{"id":"1a787af5-da9f-44c5-9f5a-3f71609ca0ef","name":"blur_radius","type":"INT","linkIds":[380],"pos":[390,3596]}],"outputs":[{"id":"1f97f683-13d3-4871-876d-678fca850d89","name":"MASK","type":"MASK","linkIds":[378],"localized_name":"MASK","pos":[1150,3556]}],"widgets":[],"nodes":[{"id":253,"type":"ImageToMask","pos":[800,3630],"size":[270,58],"flags":{},"order":3,"mode":4,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":377},{"localized_name":"channel","name":"channel","type":"COMBO","widget":{"name":"channel"},"link":null}],"outputs":[{"localized_name":"MASK","name":"MASK","type":"MASK","links":[378]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ImageToMask","ue_properties":{"widget_ue_connectable":{}}},"widgets_values":["red"]},{"id":251,"type":"MaskToImage","pos":[780,3470],"size":[260,70],"flags":{},"order":1,"mode":4,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":372}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[373]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"MaskToImage","ue_properties":{"widget_ue_connectable":{}}},"widgets_values":[]},{"id":199,"type":"GrowMask","pos":[470,3460],"size":[270,82],"flags":{},"order":0,"mode":4,"inputs":[{"localized_name":"mask","name":"mask","type":"MASK","link":279},{"localized_name":"expand","name":"expand","type":"INT","widget":{"name":"expand"},"link":379},{"localized_name":"tapered_corners","name":"tapered_corners","type":"BOOLEAN","widget":{"name":"tapered_corners"},"link":null}],"outputs":[{"localized_name":"MASK","name":"MASK","type":"MASK","links":[372]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"GrowMask","ue_properties":{"widget_ue_connectable":{}}},"widgets_values":[20,true]},{"id":252,"type":"ImageBlur","pos":[480,3620],"size":[270,82],"flags":{},"order":2,"mode":4,"inputs":[{"localized_name":"image","name":"image","type":"IMAGE","link":373},{"localized_name":"blur_radius","name":"blur_radius","type":"INT","widget":{"name":"blur_radius"},"link":380},{"localized_name":"sigma","name":"sigma","type":"FLOAT","widget":{"name":"sigma"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[377]}],"properties":{"cnr_id":"comfy-core","ver":"0.3.59","Node name for S&R":"ImageBlur","ue_properties":{"widget_ue_connectable":{}}},"widgets_values":[31,1]}],"groups":[],"links":[{"id":373,"origin_id":251,"origin_slot":0,"target_id":252,"target_slot":0,"type":"IMAGE"},{"id":377,"origin_id":252,"origin_slot":0,"target_id":253,"target_slot":0,"type":"IMAGE"},{"id":372,"origin_id":199,"origin_slot":0,"target_id":251,"target_slot":0,"type":"MASK"},{"id":279,"origin_id":-10,"origin_slot":0,"target_id":199,"target_slot":0,"type":"MASK"},{"id":378,"origin_id":253,"origin_slot":0,"target_id":-20,"target_slot":0,"type":"MASK"},{"id":379,"origin_id":-10,"origin_slot":1,"target_id":199,"target_slot":1,"type":"INT"},{"id":380,"origin_id":-10,"origin_slot":2,"target_id":252,"target_slot":1,"type":"INT"}],"extra":{"ue_links":[],"links_added_by_ue":[]}}]},"config":{},"extra":{"ds":{"scale":1.0788628744697968,"offset":[413.32502524573744,-396.03393764624207]},"frontendVersion":"1.27.10","groupNodes":{},"VHS_latentpreview":false,"VHS_latentpreviewrate":0,"VHS_MetadataImage":true,"VHS_KeepIntermediate":true,"ue_links":[],"links_added_by_ue":[]},"version":0.4}